<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Interactive Globe</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Scripts externes -->
    <script src="https://cdn.jsdelivr.net/npm/earcut@2.2.4/dist/earcut.min.js"></script>
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    
    <!-- Import Map pour THREE.js -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.154.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.154.0/examples/jsm/"
        }
      }
    </script>
</head>
<body>

    <div id="canvas-container"></div>
    <div id="country-label">Pays</div>
    <div id="fps">60 FPS</div>

    <div id="ui-container">
        <div class="group">
            <h3>Géométrie</h3>
            <div class="control">
                <label>Extrusion</label>
                <input type="range" id="geo-extrude" min="0" max="1" step="0.01" value="0.1">
                <span class="val-display" id="val-geo-extrude">0.1</span>
            </div>
            <div class="control">
                <label>Rayon</label>
                <input type="range" id="geo-radius" min="2" max="5" step="0.1" value="3.4">
                <span class="val-display" id="val-geo-radius">3.4</span>
            </div>
            <div class="control">
                <label>Atmosphère</label>
                <input type="range" id="geo-atmo-rad" min="0" max="2" step="0.1" value="0.8">
                <span class="val-display" id="val-geo-atmo-rad">0.8</span>
            </div>
        </div>

        <div class="group">
            <h3>Matériau Verre</h3>
            <div class="control">
                <label>Transmission</label>
                <input type="range" id="glass-trans" min="0" max="1" step="0.01" value="0.0">
                <span class="val-display" id="val-glass-trans">0.0</span>
            </div>
            <div class="control">
                <label>Roughness</label>
                <input type="range" id="glass-rough" min="0" max="1" step="0.01" value="0.0">
                <span class="val-display" id="val-glass-rough">0.0</span>
            </div>
            <div class="control">
                <label>Metalness</label>
                <input type="range" id="glass-metal" min="0" max="1" step="0.01" value="0.0">
                <span class="val-display" id="val-glass-metal">0.0</span>
            </div>
            <div class="control">
                <label>Clearcoat</label>
                <input type="range" id="glass-clear" min="0" max="1" step="0.01" value="1.0">
                <span class="val-display" id="val-glass-clear">1.0</span>
            </div>
        </div>

        <div class="group">
            <h3>Atmosphère (Corona)</h3>
            <div class="control">
                <label>Intensité</label>
                <input type="range" id="corona-int" min="0" max="2" step="0.1" value="0.6">
                <span class="val-display" id="val-corona-int">0.6</span>
            </div>
            <div class="control">
                <label>Couleur</label>
                <input type="color" id="corona-col1" value="#8d0c0c">
            </div>
        </div>

        <div class="group">
            <h3>Lumière</h3>
            <div class="control">
                <label>Sun Int.</label>
                <input type="range" id="light-sun-int" min="0" max="10" step="0.1" value="3.0">
                <span class="val-display" id="val-light-sun-int">3.0</span>
            </div>
            <div class="control">
                <label>Sun Col.</label>
                <input type="color" id="light-sun-col" value="#831f84">
            </div>
            <div class="control">
                <label>Rim Int.</label>
                <input type="range" id="light-rim-int" min="0" max="20" step="1" value="10.0">
                <span class="val-display" id="val-light-rim-int">10.0</span>
            </div>
            <div class="control">
                <label>Rim Col.</label>
                <input type="color" id="light-rim-col" value="#000000">
            </div>
            <div class="control">
                <label>Amb Int.</label>
                <input type="range" id="light-amb-int" min="0" max="3" step="0.1" value="1.0">
                <span class="val-display" id="val-light-amb-int">1.0</span>
            </div>
        </div>

        <div class="group">
            <h3>Env & Cam</h3>
            <div class="control">
                <label>Fog</label>
                <input type="range" id="env-fog" min="0" max="0.05" step="0.001" value="0.0">
                <span class="val-display" id="val-env-fog">0.0</span>
            </div>
            <div class="control">
                <label>Rotation</label>
                <input type="range" id="env-rot" min="0" max="0.005" step="0.0001" value="0.0005">
                <span class="val-display" id="val-env-rot">0.0005</span>
            </div>
            <div class="control">
                <label>FOV</label>
                <input type="range" id="cam-fov" min="20" max="90" step="1" value="45">
                <span class="val-display" id="val-cam-fov">45</span>
            </div>
        </div>

        <div class="instructions">
            [B] Toggle Frontières Internes<br>
            [S] Toggle Frontières Partagées Uniquement
        </div>
    </div>

    <!-- Main JavaScript -->
    <script type="module" src="main.js"></script>
</body>
</html>